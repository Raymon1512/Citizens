$(document).ready(function(){"use strict";function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){func.apply(context,args);}};}
var gridSizeIndicator=$('<div></div>').addClass('grid-size-indicator');$('body').append(gridSizeIndicator);var gridSize;function getGridSize(){var index=gridSizeIndicator.css("z-index");var gridSizes={1:'xs',2:'sm',3:'md',4:'lg'};gridSize=gridSizes[index];}
getGridSize();var pageWidth=$(window).innerWidth();var onResize=debounce(function(){if($(window).innerWidth()!==pageWidth){pageWidth=$(window).innerWidth();getGridSize();setEqualHeights($('div.rate-bar div.row > div.rb-col'));setEqualHeightsSMonly($('aside.sidebar nav.child-nav'));setEqualHeights($('div#carousel-community-focus .item'));setEqualHeights($('div#carousel-testimonials .item'));}},100,false);$(window).resize(onResize);$('ul.header-icons li.item-3').on('shown.bs.dropdown',function(){$(this).find('div.site-search input.searchTextBox').focus();});$('div.site-search input.searchTextBox').attr('placeholder','Search');$('article.page-content table.responsive-table').wrap('<div class="table-responsive"></div>');$('#header-alert p:first').prepend('<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>');$('div.SearchDialog input.ContentButton').addClass('btn btn-sm btn-primary');$('div.FormPanel input.FormButton').addClass('btn btn-sm btn-primary');$('div#content_calculators').append($('div#calc-accordion'));function setEqualHeights(containerElements){var containerHeights=[],tallestContainer;function getMaxOfArray(numArray){return Math.max.apply(null,numArray);}
if(containerElements.length>=2){containerElements.each(function(){$(this).css('min-height',0);});containerElements.each(function(){containerHeights.push($(this).outerHeight());});tallestContainer=getMaxOfArray(containerHeights);containerElements.each(function(){$(this).css('min-height',tallestContainer+1);});}}
function setEqualHeightsSMonly(containerElements){if(gridSize==='sm'){setEqualHeights(containerElements);}else{containerElements.css('min-height',0);}}
$(window).on("load",function(){setTimeout(function(){setEqualHeights($('div.rate-bar div.row > div.rb-col'));setEqualHeightsSMonly($('aside.sidebar nav.child-nav'));setEqualHeights($('div#carousel-community-focus .item'));setEqualHeights($('div#carousel-testimonials .item'));},10);});var landingPageNewsItem=$('div.news-landing-page div.news-item');landingPageNewsItem.filter(function(index){return(index+1)%3===0;}).parent('div.col-sm-4').after('<div class="clearfix"></div>');if(document.createElement("input").placeholder===undefined){$('[placeholder]').focus(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');input.removeClass('placeholder');}}).blur(function(){var input=$(this);if(input.val()===''||input.val()==input.attr('placeholder')){input.addClass('placeholder');input.val(input.attr('placeholder'));}}).blur();$('[placeholder]').parents('form').submit(function(){$(this).find('[placeholder]').each(function(){var input=$(this);if(input.val()==input.attr('placeholder')){input.val('');}});});}
var randomInitialSlide=false,slideInterval=6000;var homeBannerCarousel=$("div#carousel-homepage"),numOfSlides=homeBannerCarousel.find('.item').length,initialSlideIndex=randomInitialSlide?Math.floor(Math.random()*numOfSlides):0;homeBannerCarousel.append("<ol class='carousel-indicators'></ol>");var indicators=$(".carousel-indicators");homeBannerCarousel.find(".carousel-inner").children(".item").each(function(index){if(index===initialSlideIndex){indicators.append("<li data-target='#carousel-homepage' data-slide-to='"+index+"' class='active'></li>");}else{indicators.append("<li data-target='#carousel-homepage' data-slide-to='"+index+"'></li>");}});indicators.append('<li class="togglePausePlay" title="Pause"><span class="glyphicon glyphicon-pause"></span></li>');$('.togglePausePlay').click(function(){var $this=$(this);if($this.hasClass('paused')){homeBannerCarousel.carousel('cycle');$this.toggleClass('paused').attr('title','Pause').html('<span class="glyphicon glyphicon-pause"></span>');}else{homeBannerCarousel.carousel('pause');$this.toggleClass('paused').attr('title','Play').html('<span class="glyphicon glyphicon-play"></span>');}
return false;});if(homeBannerCarousel.length>=1){homeBannerCarousel.swiperight(function(){$(this).carousel('prev');});homeBannerCarousel.swipeleft(function(){$(this).carousel('next');});}
homeBannerCarousel.find('.item').eq(initialSlideIndex).addClass('active');homeBannerCarousel.carousel({interval:slideInterval});var communityFocusCarousel=$("div#carousel-community-focus");communityFocusCarousel.find('.item').first().addClass('active');communityFocusCarousel.carousel();var testimonialsCarousel=$("div#carousel-testimonials");testimonialsCarousel.find('.item').first().addClass('active');testimonialsCarousel.carousel();var tabItem=$('ul.tabs li');var tabContent=$('.tab-content');var tabValue=window.location.hash.substr(1);var bUseDefaults=true;if(tabContent.length>0){$('form').submit(function(){var frmAction=document.getElementById("form").action;if(frmAction!==''){var hashIndex=frmAction.indexOf('#');if(hashIndex!==-1){frmAction=frmAction.substr(0,frmAction.indexOf('#'));}
document.getElementById("form").action=frmAction+location.hash;}});if((tabValue!=='')&&(tabValue!=='#')){tabItem.each(function(){var tabClass=$(this).attr('class');if(tabValue===tabClass){tabItem.removeClass("active");tabContent.hide();$("ul.tabs li."+tabValue).addClass("active");$("#content_"+tabValue).show();$('html,body').animate({scrollTop:0},0);bUseDefaults=false;}});}
if(bUseDefaults===true){tabContent.hide();tabContent.filter(':first').show();tabItem.filter(':first').addClass('active');}}
tabItem.click(function(){tabItem.removeClass('active');$(this).addClass('active');tabContent.hide();var activeTab=$(this).find('a').attr('href');activeTab=activeTab.replace("#","#content_");$(activeTab).show();});$('.tab-content > :last-child').css('margin-bottom','0');$('div.accordion div#panel-'+tabValue.substr(6)).find('div.panel-collapse').collapse('show');var yammContentRow=$('ul#MegaMenu > li.dropdown > ul.dropdown-menu > li > div.yamm-content > div.row');yammContentRow.each(function(){$(this).find('> ul > li').unwrap();});yammContentRow.each(function(){$(this).children('li.mm-column').wrap('<ul class="col-xs-12 mm-links"></ul>');});yammContentRow.each(function(){$(this).children('li.mm-solo').wrapAll('<ul class="col-xs-12 mm-links"></ul>');});yammContentRow.each(function(){$(this).children('li.mm-button').wrapAll('<ul class="col-xs-12 mm-buttons"></ul>').children('a').addClass('btn btn-primary btn-primary-2 btn-block');});$('ul.mm-links').find('li:first').addClass('first');$('ul.mm-links').find('li:last').addClass('last');var colsInMenuSM=[1,1,1,1];var colsInMenuMD=[];var colsInMenuLG=[];function setNumOfCols(colsArray,colSizeClass,visibilityClass){function setEachDropDown(i){return function(){var ddMenuCol=$(this).find('.col-xs-12');ddMenuCol.addClass(colSizeClass+String(12/colsArray[i]));if(ddMenuCol.length>colsArray[i]){ddMenuCol.eq(colsArray[i]-1).after('<div class="clearfix '+visibilityClass+'"></div>');}};}
for(var i=0;i<colsArray.length;i++){if(colsArray[i]!==1){$('ul#MegaMenu > li.menu-'+String(i+1)+' > ul.dropdown-menu').each(setEachDropDown(i));}}}
setNumOfCols(colsInMenuSM,"col-sm-","visible-sm-block");setNumOfCols(colsInMenuMD,"col-md-","visible-md-block");setNumOfCols(colsInMenuLG,"col-lg-","visible-lg-block");var onlineForm=$('.online-form');onlineForm.find('input.required, .required input, textarea.required, select.required, .required select').not('[type="hidden"], [type="image"], [type="submit"], [type="reset"], [type="button"]').attr('aria-required','true');onlineForm.find('input[aria-required="true"]:not([type="radio"], [type="checkbox"]), select[aria-required="true"], textarea[aria-required="true"]').each(function(){var $label=onlineForm.find('label[for="'+$(this).attr('id')+'"]');$label.append('*');});onlineForm.find('span.radio.required, span.checkbox.required').each(function(){var $id=$(this).attr('id');var idFragment=$id.substring(0,$id.lastIndexOf('_list'));var $label=onlineForm.find('span.EditingFormLabel[id="'+idFragment+'_lb"]');$label.append('*');});var requiredCheckboxes=onlineForm.find('span.checkbox.required :checkbox[required]');requiredCheckboxes.change(function(){if(requiredCheckboxes.is(':checked')){requiredCheckboxes.removeAttr('aria-required');}else{requiredCheckboxes.attr('aria-required','true');}});$('#extLinksModal').on('click','.btn-primary',function(){Bootstrapper.ensEvent.trigger("7716-CE-1554-EVT");});});